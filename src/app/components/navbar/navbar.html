<mat-toolbar>
  <nav class="navbar">
    <div class="container">
      <!-- Left Section (Logo + Links) -->
      <div class="left-section">
        <a routerLink="/" class="logo">
          <img src="logo.png" alt="Galaxy Of Knowledge" />
        </a>

        <div class="links">
          <a routerLink="/classes" class="nav-link">ğŸ“š Classes</a>
          <a routerLink="/about" class="nav-link">â„¹ï¸ About</a>
        </div>
      </div>

      <!-- Right Section (Auth) -->
      <div class="auth">
        <!-- Guest (not logged in) -->
        @if (!isAuthenticated) {
          <div class="guest">
            <button class="btn primary" (click)="goTo('/signin')">ğŸ”‘ Sign In</button>
            <button class="btn primary" (click)="goTo('/register')">âœ¨ Register</button>
          </div>
        }

        <!-- Logged-in User -->
        @if (isAuthenticated) {
          <div class="user">
            <div class="avatar-dropdown">
              <button class="avatar-btn" (click)="toggleDropdown()">
                <img [src]="user.avatar" alt="User Avatar" class="avatar" />
              </button>

              @if (dropdownOpen) {
                <div class="dropdown">
                  <div class="user-info">
                    <p class="name">{{ user.name }}</p>
                    <p class="email">{{ user.email }}</p>
                    <p class="age">{{ user.age }}</p>
                    <p class="gender">{{ user.gender }}</p>
                  </div>

                  <button class="dropdown-item" (click)="goTo('/profile')">ğŸ‘¤ Profile</button>
                  <button class="dropdown-item" (click)="goTo('/settings')">âš™ï¸ Settings</button>
                  <hr />
                  <button class="dropdown-item destructive" (click)="logout()">ğŸšª Log out</button>
                </div>
              }
            </div>
          </div>
        }
      </div>

      <!-- Mobile Menu Toggle -->
      <button class="mobile-toggle" (click)="toggleMobileMenu()">â˜°</button>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" #mobileMenu [class.open]="isMobileMenuOpen">
      <a routerLink="/classes" class="mobile-link">ğŸ“š Classes</a>
      <a routerLink="/about" class="mobile-link">â„¹ï¸ About</a>

      @if (isAuthenticated) {
        <button class="mobile-link" (click)="goTo('/profile')">ğŸ‘¤ Profile</button>
        <button class="mobile-link primary" (click)="goTo('/settings')">âš™ï¸ Settings</button>
        <button class="mobile-link destructive" (click)="logout()">ğŸšª Log out</button>
      } @else {
        <button class="mobile-link primary" (click)="goTo('/signin')">ğŸ”‘ Sign In</button>
        <button class="mobile-link primary" (click)="goTo('/register')">âœ¨ Register</button>
      }
    </div>
  </nav>
</mat-toolbar>
